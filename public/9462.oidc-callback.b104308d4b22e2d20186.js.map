{"version":3,"file":"9462.oidc-callback.b104308d4b22e2d20186.js","mappings":"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","sources":["webpack://merchant-center-custom-application/./node_modules/jwt-decode/build/jwt-decode.esm.js","webpack://merchant-center-custom-application/./node_modules/@commercetools-frontend/application-shell/dist/oidc-callback-4463eeb9.esm.js","webpack://merchant-center-custom-application/./node_modules/@commercetools-frontend/application-shell/dist/redirector-54a03b75.esm.js"],"sourcesContent":["function e(e){this.message=e}e.prototype=new Error,e.prototype.name=\"InvalidCharacterError\";var r=\"undefined\"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var t=String(r).replace(/=+$/,\"\");if(t.length%4==1)throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var n,o,a=0,i=0,c=\"\";o=t.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(o);return c};function t(e){var t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");switch(t.length%4){case 0:break;case 2:t+=\"==\";break;case 3:t+=\"=\";break;default:throw\"Illegal base64url string!\"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t=\"0\"+t),\"%\"+t})))}(t)}catch(e){return r(t)}}function n(e){this.message=e}function o(e,r){if(\"string\"!=typeof e)throw new n(\"Invalid token specified\");var o=!0===(r=r||{}).header?0:1;try{return JSON.parse(t(e.split(\".\")[o]))}catch(e){throw new n(\"Invalid token specified: \"+e.message)}}n.prototype=new Error,n.prototype.name=\"InvalidTokenError\";export default o;export{n as InvalidTokenError};\n//# sourceMappingURL=jwt-decode.esm.js.map\n","import _slicedToArray from '@babel/runtime-corejs3/helpers/esm/slicedToArray';\nimport _pt from 'prop-types';\nimport _URL from '@babel/runtime-corejs3/core-js-stable/url';\nimport { useState, useEffect } from 'react';\nimport jwtDecode from 'jwt-decode';\nimport { decode } from 'qss';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { oidcStorage } from '@commercetools-frontend/application-shell-connectors';\nimport { u as useRedirector } from './redirector-54a03b75.esm.js';\nimport _styled from '@emotion/styled/base';\nimport { themesOverrides, PublicPageLayout } from '@commercetools-frontend/application-components';\nimport FailedAuthenticationSVGRebranding from '@commercetools-frontend/assets/images/doors-closed-rebranding.svg';\nimport FailedAuthenticationSVG from '@commercetools-frontend/assets/images/doors-closed.svg';\nimport { AsyncLocaleData } from '@commercetools-frontend/i18n';\nimport Card from '@commercetools-uikit/card';\nimport Constraints from '@commercetools-uikit/constraints';\nimport { customProperties, useTheme, ThemeProvider } from '@commercetools-uikit/design-system';\nimport FlatButton from '@commercetools-uikit/flat-button';\nimport { AngleLeftIcon } from '@commercetools-uikit/icons';\nimport { ContentNotification } from '@commercetools-uikit/notifications';\nimport Spacings from '@commercetools-uikit/spacings';\nimport Text from '@commercetools-uikit/text';\nimport { C as ConfigureIntlProvider } from './index-4f6bae3a.esm.js';\nimport { jsx, jsxs } from '@emotion/react/jsx-runtime';\nimport '@babel/runtime-corejs3/core-js-stable/object/keys';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols';\nimport '@babel/runtime-corejs3/core-js-stable/instance/filter';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor';\nimport '@babel/runtime-corejs3/core-js-stable/instance/for-each';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors';\nimport '@babel/runtime-corejs3/core-js-stable/object/define-properties';\nimport '@babel/runtime-corejs3/core-js-stable/object/define-property';\nimport '@babel/runtime-corejs3/helpers/defineProperty';\nimport './use-is-served-by-proxy-77984220.esm.js';\nimport './index-89e5711a.esm.js';\nimport '@babel/runtime-corejs3/core-js-stable/instance/reduce';\nimport '@babel/runtime-corejs3/core-js-stable/object/entries';\nimport '@babel/runtime-corejs3/core-js-stable/reflect/has';\nimport '@reduxjs/toolkit';\nimport 'lodash/mapValues';\nimport 'omit-empty-es';\nimport 'redux-thunk';\nimport '@commercetools-frontend/constants';\nimport '@commercetools-frontend/notifications';\nimport '@commercetools-frontend/sdk';\nimport '@babel/runtime-corejs3/core-js-stable/instance/index-of';\nimport '@babel/runtime-corejs3/core-js-stable/instance/slice';\nimport '@babel/runtime-corejs3/core-js-stable/instance/includes';\nimport '@commercetools-frontend/sentry';\nimport '@commercetools-frontend/react-notifications';\nimport '@babel/runtime-corejs3/core-js-stable/instance/starts-with';\nimport 'redux-logger';\nimport '@babel/runtime-corejs3/core-js-stable/instance/find';\nimport '@babel/runtime-corejs3/core-js-stable/array/is-array';\nimport '@emotion/react';\nimport './oidc-731e806d.esm.js';\nimport '@babel/runtime-corejs3/core-js-stable/instance/concat';\nimport '@babel/runtime-corejs3/core-js-stable/instance/map';\nimport 'react-intl';\nimport '@babel/runtime-corejs3/helpers/taggedTemplateLiteral';\nimport '@babel/runtime-corejs3/helpers/objectWithoutProperties';\nimport 'memoize-one';\nimport 'react-select';\nimport '@commercetools-uikit/accessible-hidden';\nimport '@commercetools-uikit/select-input';\nimport '@commercetools-frontend/assets/images/ct-logo.svg';\nimport '@commercetools-uikit/loading-spinner';\nimport '@commercetools-frontend/browser-history';\nimport '@commercetools-frontend/l10n';\nimport '@babel/runtime-corejs3/core-js-stable/reflect/construct';\nimport '@babel/runtime-corejs3/helpers/classCallCheck';\nimport '@babel/runtime-corejs3/helpers/createClass';\nimport '@babel/runtime-corejs3/helpers/inherits';\nimport '@babel/runtime-corejs3/helpers/possibleConstructorReturn';\nimport '@babel/runtime-corejs3/helpers/getPrototypeOf';\nimport '@babel/runtime-corejs3/core-js-stable/set-timeout';\nimport '@babel/runtime-corejs3/core-js-stable/object/from-entries';\nimport '@babel/runtime-corejs3/core-js-stable/instance/flags';\nimport '@apollo/client/react';\nimport '@flopflip/combine-adapters';\nimport '@flopflip/http-adapter';\nimport '@flopflip/launchdarkly-adapter';\nimport '@flopflip/react-broadcast';\nimport 'react-redux';\nimport 'lodash/upperFirst';\nimport '@commercetools-uikit/design-system/materials/resets.css';\nimport '@commercetools-frontend/application-config/ssr';\nimport '@commercetools-frontend/permissions';\nimport '@flopflip/memory-adapter';\nimport '@babel/runtime-corejs3/core-js-stable/json/stringify';\nimport '@babel/runtime-corejs3/core-js-stable/instance/some';\nimport '@commercetools-frontend/actions-global';\n\nconst Divider = /*#__PURE__*/_styled(\"div\", process.env.NODE_ENV === \"production\" ? {\n  target: \"e57nw7s0\"\n} : {\n  target: \"e57nw7s0\",\n  label: \"Divider\"\n})(\"box-sizing:border-box;width:100%;margin:0;border:0;border-style:solid;border-top-width:1px;border-top-color:\", customProperties.colorNeutral, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9pZGMtY2FsbGJhY2stZXJyb3ItcGFnZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZ0MwQiIsImZpbGUiOiJvaWRjLWNhbGxiYWNrLWVycm9yLXBhZ2UudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHtcbiAgUHVibGljUGFnZUxheW91dCxcbiAgdGhlbWVzT3ZlcnJpZGVzLFxufSBmcm9tICdAY29tbWVyY2V0b29scy1mcm9udGVuZC9hcHBsaWNhdGlvbi1jb21wb25lbnRzJztcbmltcG9ydCBGYWlsZWRBdXRoZW50aWNhdGlvblNWR1JlYnJhbmRpbmcgZnJvbSAnQGNvbW1lcmNldG9vbHMtZnJvbnRlbmQvYXNzZXRzL2ltYWdlcy9kb29ycy1jbG9zZWQtcmVicmFuZGluZy5zdmcnO1xuaW1wb3J0IEZhaWxlZEF1dGhlbnRpY2F0aW9uU1ZHIGZyb20gJ0Bjb21tZXJjZXRvb2xzLWZyb250ZW5kL2Fzc2V0cy9pbWFnZXMvZG9vcnMtY2xvc2VkLnN2Zyc7XG5pbXBvcnQgdHlwZSB7IFRBc3luY0xvY2FsZURhdGFQcm9wcyB9IGZyb20gJ0Bjb21tZXJjZXRvb2xzLWZyb250ZW5kL2kxOG4nO1xuXG5pbXBvcnQgeyBBc3luY0xvY2FsZURhdGEgfSBmcm9tICdAY29tbWVyY2V0b29scy1mcm9udGVuZC9pMThuJztcbmltcG9ydCBDYXJkIGZyb20gJ0Bjb21tZXJjZXRvb2xzLXVpa2l0L2NhcmQnO1xuaW1wb3J0IENvbnN0cmFpbnRzIGZyb20gJ0Bjb21tZXJjZXRvb2xzLXVpa2l0L2NvbnN0cmFpbnRzJztcbmltcG9ydCB7XG4gIFRoZW1lUHJvdmlkZXIsXG4gIGN1c3RvbVByb3BlcnRpZXMsXG4gIHVzZVRoZW1lLFxufSBmcm9tICdAY29tbWVyY2V0b29scy11aWtpdC9kZXNpZ24tc3lzdGVtJztcbmltcG9ydCBGbGF0QnV0dG9uIGZyb20gJ0Bjb21tZXJjZXRvb2xzLXVpa2l0L2ZsYXQtYnV0dG9uJztcbmltcG9ydCB7IEFuZ2xlTGVmdEljb24gfSBmcm9tICdAY29tbWVyY2V0b29scy11aWtpdC9pY29ucyc7XG5pbXBvcnQgeyBDb250ZW50Tm90aWZpY2F0aW9uIH0gZnJvbSAnQGNvbW1lcmNldG9vbHMtdWlraXQvbm90aWZpY2F0aW9ucyc7XG5pbXBvcnQgU3BhY2luZ3MgZnJvbSAnQGNvbW1lcmNldG9vbHMtdWlraXQvc3BhY2luZ3MnO1xuaW1wb3J0IFRleHQgZnJvbSAnQGNvbW1lcmNldG9vbHMtdWlraXQvdGV4dCc7XG5pbXBvcnQgQ29uZmlndXJlSW50bFByb3ZpZGVyIGZyb20gJy4uL2NvbmZpZ3VyZS1pbnRsLXByb3ZpZGVyJztcblxudHlwZSBUUHJvcHMgPSB7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgbG9jYWxlOiBzdHJpbmc7XG4gIGFwcGxpY2F0aW9uTWVzc2FnZXM6IFRBc3luY0xvY2FsZURhdGFQcm9wc1snYXBwbGljYXRpb25NZXNzYWdlcyddO1xuICBjaGlsZHJlbj86IG5ldmVyO1xufTtcblxuY29uc3QgRGl2aWRlciA9IHN0eWxlZC5kaXZgXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW46IDA7XG4gIGJvcmRlcjogMDtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgYm9yZGVyLXRvcC13aWR0aDogMXB4O1xuICBib3JkZXItdG9wLWNvbG9yOiAke2N1c3RvbVByb3BlcnRpZXMuY29sb3JOZXV0cmFsfTtcbmA7XG5cbmNvbnN0IEF1dGhDYWxsYmFja0Vycm9yUGFnZSA9IChwcm9wczogVFByb3BzKSA9PiB7XG4gIGNvbnN0IGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XG4gIGNvbnN0IHsgdGhlbWVkVmFsdWUgfSA9IHVzZVRoZW1lKCk7XG4gIHJldHVybiAoXG4gICAgPEFzeW5jTG9jYWxlRGF0YVxuICAgICAgbG9jYWxlPXtwcm9wcy5sb2NhbGV9XG4gICAgICBhcHBsaWNhdGlvbk1lc3NhZ2VzPXtwcm9wcy5hcHBsaWNhdGlvbk1lc3NhZ2VzfVxuICAgID5cbiAgICAgIHsoeyBsb2NhbGUsIG1lc3NhZ2VzIH0pID0+IChcbiAgICAgICAgPENvbmZpZ3VyZUludGxQcm92aWRlciBsb2NhbGU9e2xvY2FsZX0gbWVzc2FnZXM9e21lc3NhZ2VzfT5cbiAgICAgICAgICA8VGhlbWVQcm92aWRlclxuICAgICAgICAgICAgdGhlbWU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgIHRoZW1lT3ZlcnJpZGVzPXt0aGVtZXNPdmVycmlkZXMuZGVmYXVsdH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxQdWJsaWNQYWdlTGF5b3V0IGNvbnRlbnRTY2FsZT1cIndpZGVcIj5cbiAgICAgICAgICAgIDxTcGFjaW5ncy5JbmxpbmUganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgPENvbnN0cmFpbnRzLkhvcml6b250YWwgbWF4PXsxMX0+XG4gICAgICAgICAgICAgICAgPENhcmQgaW5zZXRTY2FsZT1cInhsXCI+XG4gICAgICAgICAgICAgICAgICA8U3BhY2luZ3MuU3RhY2sgc2NhbGU9XCJsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTcGFjaW5ncy5JbmxpbmUganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjEwMCVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXt0aGVtZWRWYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgRmFpbGVkQXV0aGVudGljYXRpb25TVkcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIEZhaWxlZEF1dGhlbnRpY2F0aW9uU1ZHUmVicmFuZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIkZhaWxlZCBhdXRoZW50aWNhdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9TcGFjaW5ncy5JbmxpbmU+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0LkhlYWRsaW5lIGFzPVwiaDJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7J0F1dGhlbnRpY2F0aW9uIGVycm9yJ31cbiAgICAgICAgICAgICAgICAgICAgPC9UZXh0LkhlYWRsaW5lPlxuICAgICAgICAgICAgICAgICAgICA8Q29udGVudE5vdGlmaWNhdGlvbiB0eXBlPVwiZXJyb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U3BhY2luZ3MuU3RhY2sgc2NhbGU9XCJtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dC5Cb2R5Pntwcm9wcy5tZXNzYWdlfTwvVGV4dC5Cb2R5PlxuICAgICAgICAgICAgICAgICAgICAgIDwvU3BhY2luZ3MuU3RhY2s+XG4gICAgICAgICAgICAgICAgICAgIDwvQ29udGVudE5vdGlmaWNhdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPFNwYWNpbmdzLlN0YWNrIHNjYWxlPVwibVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxEaXZpZGVyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPEZsYXRCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVHJ5IGxvZyBpbiBhZ2FpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8QW5nbGVMZWZ0SWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKCcvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvU3BhY2luZ3MuU3RhY2s+XG4gICAgICAgICAgICAgICAgICA8L1NwYWNpbmdzLlN0YWNrPlxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgPC9Db25zdHJhaW50cy5Ib3Jpem9udGFsPlxuICAgICAgICAgICAgPC9TcGFjaW5ncy5JbmxpbmU+XG4gICAgICAgICAgPC9QdWJsaWNQYWdlTGF5b3V0PlxuICAgICAgICA8L0NvbmZpZ3VyZUludGxQcm92aWRlcj5cbiAgICAgICl9XG4gICAgPC9Bc3luY0xvY2FsZURhdGE+XG4gICk7XG59O1xuQXV0aENhbGxiYWNrRXJyb3JQYWdlLmRpc3BsYXlOYW1lID0gJ0F1dGhDYWxsYmFja0Vycm9yUGFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IEF1dGhDYWxsYmFja0Vycm9yUGFnZTtcbiJdfQ== */\"));\nconst AuthCallbackErrorPage = props => {\n  const history = useHistory();\n  const _useTheme = useTheme(),\n    themedValue = _useTheme.themedValue;\n  return jsx(AsyncLocaleData, {\n    locale: props.locale,\n    applicationMessages: props.applicationMessages,\n    children: _ref => {\n      let locale = _ref.locale,\n        messages = _ref.messages;\n      return jsxs(ConfigureIntlProvider, {\n        locale: locale,\n        messages: messages,\n        children: [jsx(ThemeProvider, {\n          theme: \"default\",\n          themeOverrides: themesOverrides.default\n        }), jsx(PublicPageLayout, {\n          contentScale: \"wide\",\n          children: jsx(Spacings.Inline, {\n            justifyContent: \"center\",\n            children: jsx(Constraints.Horizontal, {\n              max: 11,\n              children: jsx(Card, {\n                insetScale: \"xl\",\n                children: jsxs(Spacings.Stack, {\n                  scale: \"l\",\n                  children: [jsx(Spacings.Inline, {\n                    justifyContent: \"center\",\n                    children: jsx(\"img\", {\n                      width: \"100%\",\n                      src: themedValue(FailedAuthenticationSVG, FailedAuthenticationSVGRebranding),\n                      alt: \"Failed authentication\"\n                    })\n                  }), jsx(Text.Headline, {\n                    as: \"h2\",\n                    children: 'Authentication error'\n                  }), jsx(ContentNotification, {\n                    type: \"error\",\n                    children: jsx(Spacings.Stack, {\n                      scale: \"m\",\n                      children: jsx(Text.Body, {\n                        children: props.message\n                      })\n                    })\n                  }), jsxs(Spacings.Stack, {\n                    scale: \"m\",\n                    children: [jsx(Divider, {}), jsx(FlatButton, {\n                      label: \"Try log in again\",\n                      icon: jsx(AngleLeftIcon, {}),\n                      onClick: () => {\n                        history.push('/');\n                      }\n                    })]\n                  })]\n                })\n              })\n            })\n          })\n        })]\n      });\n    }\n  });\n};\nAuthCallbackErrorPage.displayName = 'AuthCallbackErrorPage';\n\nconst OidcCallback = props => {\n  const location = useLocation();\n  const redirector = useRedirector();\n  const _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    message = _useState2[0],\n    setMessage = _useState2[1];\n  const fragments = decode(location.hash.substring(1));\n  const sessionToken = fragments.sessionToken;\n  useEffect(() => {\n    // Validate the nonce (coming as a `state` parameter)\n    // By trying to load the related session state, we can implicitly check if the nonce is correct or not.\n    const sessionState = oidcStorage.getSessionState(fragments.state);\n    let errorMessage;\n    let decodedSessionToken;\n    try {\n      if (sessionToken) {\n        decodedSessionToken = jwtDecode(sessionToken);\n      } else {\n        errorMessage = 'Invalid client session (missing sessionToken)';\n      }\n    } catch (err) {\n      if (err instanceof Error) {\n        errorMessage = err.message;\n      } else {\n        errorMessage = 'Unknown error';\n      }\n    }\n    if (!errorMessage) {\n      var _decodedSessionToken;\n      const hasValidSessionId = ((_decodedSessionToken = decodedSessionToken) === null || _decodedSessionToken === void 0 ? void 0 : _decodedSessionToken.nonce) === fragments.state;\n      const hasValidApplicationId = window.app.applicationId === (sessionState === null || sessionState === void 0 ? void 0 : sessionState.applicationId);\n      if (!sessionState || !hasValidSessionId || !hasValidApplicationId) {\n        errorMessage = 'Invalid client session';\n      }\n    }\n    if (errorMessage) {\n      setMessage(errorMessage);\n    } else {\n      oidcStorage.setActiveSession(sessionToken);\n      oidcStorage.removeSessionState(fragments.state);\n      if (sessionState !== null && sessionState !== void 0 && sessionState.query.redirectTo) {\n        try {\n          const redirectToUrl = new _URL(sessionState.query.redirectTo);\n          redirector({\n            to: redirectToUrl.pathname\n          });\n          return;\n        } catch (error) {\n          console.warn(\"Invalid \\\"redirectTo\\\" URL\", sessionState.query.redirectTo);\n          // ignore\n        }\n      }\n\n      redirector({\n        to: location.pathname.replace('/oidc/callback', '')\n      });\n      return;\n    }\n\n    // Only execute once!\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  if (message) {\n    return jsx(AuthCallbackErrorPage, {\n      message: message,\n      locale: props.locale,\n      applicationMessages: props.applicationMessages\n    });\n  }\n  return null;\n};\nOidcCallback.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  locale: _pt.string.isRequired\n} : {};\nOidcCallback.displayName = 'OidcCallback';\n\nexport { OidcCallback as default };\n","import _Object$keys from '@babel/runtime-corejs3/core-js-stable/object/keys';\nimport _Object$getOwnPropertySymbols from '@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols';\nimport _filterInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/filter';\nimport _Object$getOwnPropertyDescriptor from '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor';\nimport _forEachInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/for-each';\nimport _Object$getOwnPropertyDescriptors from '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors';\nimport _Object$defineProperties from '@babel/runtime-corejs3/core-js-stable/object/define-properties';\nimport _Object$defineProperty from '@babel/runtime-corejs3/core-js-stable/object/define-property';\nimport _defineProperty from '@babel/runtime-corejs3/helpers/esm/defineProperty';\nimport _pt from 'prop-types';\nimport _URL from '@babel/runtime-corejs3/core-js-stable/url';\nimport { useCallback, useEffect } from 'react';\nimport { encode } from 'qss';\nimport { l as location } from './use-is-served-by-proxy-77984220.esm.js';\n\nfunction ownKeys(e, r) { var t = _Object$keys(e); if (_Object$getOwnPropertySymbols) { var o = _Object$getOwnPropertySymbols(e); r && (o = _filterInstanceProperty(o).call(o, function (r) { return _Object$getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _forEachInstanceProperty(_context = ownKeys(Object(t), !0)).call(_context, function (r) { _defineProperty(e, r, t[r]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(e, _Object$getOwnPropertyDescriptors(t)) : _forEachInstanceProperty(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _Object$defineProperty(e, r, _Object$getOwnPropertyDescriptor(t, r)); }); } return e; }\nconst redirectTo = targetUrl => {\n  location.replace(targetUrl);\n};\nconst useRedirector = () => {\n  const redirector = useCallback(options => {\n    var _options$origin, _options$queryParams, _enhancedLocation$que;\n    // For now the authentication service runs on the same domain as the application,\n    // even on development (using the webpack dev server).\n    const originUrl = (_options$origin = options.origin) !== null && _options$origin !== void 0 ? _options$origin : window.location.origin;\n    const enhancedLocation = options.location || {};\n    const searchQuery = _objectSpread(_objectSpread({}, (_options$queryParams = options.queryParams) !== null && _options$queryParams !== void 0 ? _options$queryParams : {}), (_enhancedLocation$que = enhancedLocation.query) !== null && _enhancedLocation$que !== void 0 ? _enhancedLocation$que : {});\n    const targetUrlObject = new _URL(originUrl);\n    targetUrlObject.pathname = options.to || targetUrlObject.pathname;\n    targetUrlObject.search = \"?\".concat(encode(searchQuery));\n    const targetUrl = targetUrlObject.toString();\n    redirectTo(targetUrl);\n  }, []);\n  return redirector;\n};\nconst Redirector = props => {\n  const redirector = useRedirector();\n  useEffect(() => {\n    redirector(props);\n    // Only execute once!\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return null;\n};\nRedirector.propTypes = {\n  to: _pt.string.isRequired,\n  origin: _pt.string,\n  queryParams: _pt.shape({\n    redirectTo: _pt.string,\n    client_id: _pt.string,\n    response_type: _pt.string,\n    scope: _pt.string,\n    state: _pt.string,\n    nonce: _pt.string\n  })\n};\nRedirector.displayName = 'Redirector';\n\nexport { Redirector as R, useRedirector as u };\n"],"names":["e","this","message","prototype","Error","name","r","window","atob","bind","t","String","replace","length","n","o","a","i","c","charAt","fromCharCode","indexOf","decodeURIComponent","charCodeAt","toString","toUpperCase","header","JSON","parse","split","Divider","target","AuthCallbackErrorPage","props","history","themedValue","locale","applicationMessages","children","_ref","messages","C","theme","themeOverrides","contentScale","justifyContent","max","insetScale","scale","width","src","alt","as","type","label","icon","onClick","push","displayName","OidcCallback","location","redirector","u","_useState","useState","_useState2","setMessage","fragments","hash","substring","sessionToken","useEffect","sessionState","state","errorMessage","decodedSessionToken","err","_decodedSessionToken","hasValidSessionId","nonce","hasValidApplicationId","app","applicationId","query","redirectTo","redirectToUrl","to","pathname","error","console","warn","propTypes","ownKeys","call","enumerable","apply","_objectSpread","arguments","_context","_context2","Object","useRedirector","useCallback","options","_options$origin","_options$queryParams","_enhancedLocation$que","originUrl","origin","enhancedLocation","searchQuery","queryParams","targetUrlObject","search","concat","targetUrl","l","Redirector","client_id","response_type","scope"],"sourceRoot":""}