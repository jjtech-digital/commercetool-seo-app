"use strict";(self.webpackChunkmerchant_center_custom_application=self.webpackChunkmerchant_center_custom_application||[]).push([[3111],{"./node_modules/@commercetools-frontend/application-shell/dist/get-mc-origin-fecfee07.esm.js":(e,o,s)=>{s.d(o,{g:()=>getMcOrigin});var n=s("./node_modules/@babel/runtime-corejs3/helpers/esm/slicedToArray.js"),t=s("./node_modules/@babel/runtime-corejs3/core-js-stable/url.js"),r=s.n(t),l=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/reverse.js"),c=s.n(l);function getMcOrigin(e){var o,s;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;const l=new(r())(e),i=c()(o=l.hostname.split(".")).call(o),a=(0,n.Z)(i,4),d=a[0],u=a[1],m=a[2],p=a[3],j=c()(s=t.location.hostname.split(".")).call(s),b=(0,n.Z)(j,4),_=b[0],f=b[1],v=b[2],g=b[3];return d===_&&u===f&&m===v&&p===g?t.location.origin:l.origin.replace("mc-api","mc")}},"./node_modules/@commercetools-frontend/application-shell/dist/redirect-to-login-fef124ba.esm.js":(e,o,s)=>{s.r(o),s.d(o,{default:()=>RedirectToLogin});var n=s("./node_modules/react/index.js"),t=s("./node_modules/react-router/esm/react-router.js"),r=s("./node_modules/uuid/dist/esm-browser/v4.js"),l=s("./node_modules/@commercetools-frontend/application-shell-connectors/dist/commercetools-frontend-application-shell-connectors.esm.js"),c=s("./node_modules/@commercetools-frontend/constants/dist/commercetools-frontend-constants.esm.js"),i=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js"),a=s.n(i),d=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js"),u=s.n(d);const m=/^\/|\/$/g,trimLeadingAndTrailingSlashes=e=>e.replace(m,""),joinPaths=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];const n=a()(o).call(o,(e=>{var o;if("string"!==typeof e)throw new Error(u()(o='Expected path "'.concat(e,'" to be a "string", but got "')).call(o,typeof e,'"'));return trimLeadingAndTrailingSlashes(e)})).join("/");return"/".concat(n)};var p=s("./node_modules/@commercetools-frontend/application-shell/dist/oidc-731e806d.esm.js"),j=s("./node_modules/@commercetools-frontend/application-shell/dist/use-is-served-by-proxy-77984220.esm.js"),b=s("./node_modules/@commercetools-frontend/application-shell/dist/get-mc-origin-fecfee07.esm.js"),_=s("./node_modules/@commercetools-frontend/application-shell/dist/redirector-54a03b75.esm.js");s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/url.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/reverse.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js");const RedirectToLogin=()=>{const e=(0,t.TH)(),o=(0,j.u)(),s=(0,_.u)();return(0,n.useEffect)((()=>{var n;if(null!==(n=window.app.__DEVELOPMENT__)&&void 0!==n&&null!==(n=n.oidc)&&void 0!==n&&n.authorizeUrl){var t,i,a,d,u;l.sj.clearSession();const o=l.sj.getActiveProjectKey(),n=(e=>{const o=(0,r.Z)();return l.sj.setSessionState(o,e),o})({applicationId:window.app.applicationId,query:{redirectTo:o?"/".concat(o):"/"}}),m=(0,p.b)({projectKey:null!==o&&void 0!==o?o:void 0,oAuthScopes:null===(t=window.app.__DEVELOPMENT__)||void 0===t||null===(t=t.oidc)||void 0===t?void 0:t.oAuthScopes,additionalOAuthScopes:null===(i=window.app.__DEVELOPMENT__)||void 0===i||null===(i=i.oidc)||void 0===i?void 0:i.additionalOAuthScopes,teamId:null===(a=window.app.__DEVELOPMENT__)||void 0===a||null===(a=a.oidc)||void 0===a?void 0:a.teamId,applicationId:null===(d=window.app.__DEVELOPMENT__)||void 0===d||null===(d=d.oidc)||void 0===d?void 0:d.applicationId});return l.sj.setSessionScope(m),void s({to:"",origin:null===(u=window.app.__DEVELOPMENT__)||void 0===u||null===(u=u.oidc)||void 0===u?void 0:u.authorizeUrl,location:e,queryParams:{reason:c.nt.UNAUTHORIZED,client_id:window.app.applicationId,response_type:p.a.ID_TOKEN,scope:m,state:n,nonce:n}})}const m=o?(0,b.g)(window.app.mcApiUrl):void 0;s({to:"login",origin:m,location:e,queryParams:{reason:c.nt.UNAUTHORIZED,redirectTo:trimLeadingAndTrailingSlashes(joinPaths(window.location.origin,e.pathname))}})}),[]),null};RedirectToLogin.displayName="RedirectToLogin"},"./node_modules/@commercetools-frontend/application-shell/dist/redirector-54a03b75.esm.js":(e,o,s)=>{s.d(o,{R:()=>Redirector,u:()=>useRedirector});var n=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js"),t=s.n(n),r=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js"),l=s.n(r),c=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js"),i=s.n(c),a=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js"),d=s.n(a),u=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js"),m=s.n(u),p=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js"),j=s.n(p),b=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js"),_=s.n(b),f=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js"),v=s.n(f),g=s("./node_modules/@babel/runtime-corejs3/helpers/esm/defineProperty.js"),w=s("./node_modules/prop-types/index.js"),y=s.n(w),h=s("./node_modules/@babel/runtime-corejs3/core-js-stable/url.js"),E=s.n(h),T=s("./node_modules/react/index.js"),O=s("./node_modules/qss/dist/qss.m.js"),S=s("./node_modules/@commercetools-frontend/application-shell/dist/use-is-served-by-proxy-77984220.esm.js");function ownKeys(e,o){var s=t()(e);if(l()){var n=l()(e);o&&(n=i()(n).call(n,(function(o){return d()(e,o).enumerable}))),s.push.apply(s,n)}return s}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var s,n,t=null!=arguments[o]?arguments[o]:{};o%2?m()(s=ownKeys(Object(t),!0)).call(s,(function(o){(0,g.Z)(e,o,t[o])})):j()?_()(e,j()(t)):m()(n=ownKeys(Object(t))).call(n,(function(o){v()(e,o,d()(t,o))}))}return e}const useRedirector=()=>(0,T.useCallback)((e=>{var o,s,n;const t=null!==(o=e.origin)&&void 0!==o?o:window.location.origin,r=e.location||{},l=_objectSpread(_objectSpread({},null!==(s=e.queryParams)&&void 0!==s?s:{}),null!==(n=r.query)&&void 0!==n?n:{}),c=new(E())(t);c.pathname=e.to||c.pathname,c.search="?".concat((0,O.c)(l));(e=>{S.l.replace(e)})(c.toString())}),[]),Redirector=e=>{const o=useRedirector();return(0,T.useEffect)((()=>{o(e)}),[]),null};Redirector.propTypes={to:y().string.isRequired,origin:y().string,queryParams:y().shape({redirectTo:y().string,client_id:y().string,response_type:y().string,scope:y().string,state:y().string,nonce:y().string})},Redirector.displayName="Redirector"}}]);
//# sourceMappingURL=3111.redirect-to-login.e288ca4a382965fb91c4.js.map