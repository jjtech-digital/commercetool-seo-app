{"version":3,"file":"1973.custom-view-dev-host.157660ef6325b25a1032.js","mappings":"o0LAuFA,MAAMA,wBAA0BC,IAC9B,IAAIC,EAAuBC,EAAUC,EAAuBC,EAC5D,MAAMC,GAAY,IAAAC,WAAS,GACzBC,GAAa,OAAeF,EAAW,GACvCG,EAAyBD,EAAW,GACpCE,EAA4BF,EAAW,GAEnCG,EAAmF,QAA/DT,EAAwBD,EAAMW,YAAYC,uBAAuD,IAA1BX,OAAmC,EAASA,EAAsBS,iBACnK,OAAO,QAAI,OAAQ,CACjBG,UAAU,QAAI,eAAwB,CACpCC,IAAK,QACLD,UAAU,QAAK,UAAgB,CAC7BE,MAAO,KACPF,SAAU,EAAC,QAAK,UAAgB,CAC9BE,MAAO,KACPF,SAAU,EAAC,QAAI,aAAe,CAC5BG,GAAI,KACJH,SAAU,wBACR,QAAK,UAAgB,CACvBE,MAAO,IACPF,SAAU,EAAC,QAAK,UAAgB,CAC9BE,MAAO,IACPF,SAAU,EAAC,QAAK,SAAW,CACzBA,SAAU,CAAC,4GAA4G,QAAI,KAAM,CAAC,GAAI,kBAAkB,QAAI,IAAK,CAC/JA,SAAU,uBACR,uDACF,QAAI,KAAM,CACZA,UAAU,QAAK,UAAgB,CAC7BE,MAAO,IACPF,SAAU,EAAC,QAAK,KAAM,CACpBA,SAAU,CAAC,oBAAoB,QAAI,IAAK,CACtCA,SAAUH,EAAiBO,SAE3B,QAAK,KAAM,CACbJ,SAAU,CAAC,2BAA4B,KAAK,QAAI,IAAK,CACnDA,SAAU,IAAqBX,EAAWQ,EAAiBQ,aAAaC,KAAKjB,GAAUkB,IACrF,IAAIC,EACJ,OAAO,IAAwBA,EAAY,IAAIC,OAAOF,EAAWG,KAAM,OAAOJ,KAAKE,EAAWD,EAAWI,YAAYC,KAAK,MAAO,IAAI,IACpIA,KAAK,YAER,QAAK,KAAM,CACbZ,SAAU,CAAC,wBAAyB,KAAK,QAAI,IAAK,CAChDA,SAAUH,EAAiBgB,SAASD,KAAK,YAEzC,QAAK,KAAM,CACbZ,SAAU,CAAC,sBAAsB,QAAI,IAAK,CACxCA,SAAUH,EAAiBiB,WAE3B,QAAK,KAAM,CACbd,SAAU,CAAC,oBAAqB,KAAK,QAAI,IAAK,CAC5CA,SAAsE,QAA3DV,EAAwBO,EAAiBkB,oBAAoD,IAA1BzB,OAAmC,EAASA,EAAsB0B,mBAKtJ,QAAI,eAAwB,CAC9Bf,IAAK,GACLD,UAAU,QAAI,IAAe,CAC3BiB,MAAO,uBACPC,QAAS,IAAMtB,GAA0B,aAI7CD,IAA0B,QAAI,KAAkB,CAClDwB,WAAYtB,EACZuB,QAA0E,QAAhE7B,EAAyBJ,EAAMW,YAAYC,uBAAwD,IAA3BR,OAAoC,EAASA,EAAuB8B,kBACtJC,QAAS,IAAM1B,GAA0B,WAI/C,EAEE2B,qBAAuBpC,IAC3B,MAAMqC,GAAa,UAEnB,OADAC,QAAQC,KAAK,gFAAiFF,EAAWG,MAClG,QAAI,KAAU,CACnB3B,SAAUb,EAAMa,UAChB,EAEE4B,kBAAoBzC,IACjB,QAAI,KAAQ,CACjB0C,QAAS,KACT7B,UAAU,QAAK,KAAQ,CACrBA,SAAU,EAAC,QAAI,KAAO,CACpB8B,KAAM,mDACN9B,UAAU,QAAIuB,qBAAsB,CAClCvB,SAAUb,EAAMa,cAEhB,QAAI,KAAO,CACbA,UAAU,QAAI,EAAA+B,EAAkB,CAC9BjC,YAAakC,OAAOC,IACpBC,oBAAqB/C,EAAM+C,oBAC3BC,6BAA6B,EAC7BnC,UAAU,QAAId,wBAAyB,CACrCY,YAAakC,OAAOC,eAOhCL,kBAAkBQ,UAEd,CAAC,EACLR,kBAAkBS,YAAc,mB","sources":["webpack://merchant-center-custom-application/./node_modules/@commercetools-frontend/application-shell/dist/custom-view-dev-host-693c1073.esm.js"],"sourcesContent":["import _slicedToArray from '@babel/runtime-corejs3/helpers/esm/slicedToArray';\nimport _pt from 'prop-types';\nimport _mapInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/map';\nimport _concatInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/concat';\nimport { useState } from 'react';\nimport { Router, Switch, Route, useRouteMatch } from 'react-router-dom';\nimport { CustomViewLoader } from '@commercetools-frontend/application-components';\nimport history from '@commercetools-frontend/browser-history';\nimport Constraints from '@commercetools-uikit/constraints';\nimport PrimaryButton from '@commercetools-uikit/primary-button';\nimport Spacings from '@commercetools-uikit/spacings';\nimport Text from '@commercetools-uikit/text';\nimport { A as ApplicationShell } from './index-4f6bae3a.esm.js';\nimport { jsx, jsxs, Fragment } from '@emotion/react/jsx-runtime';\nimport './index-89e5711a.esm.js';\nimport '@babel/runtime-corejs3/core-js-stable/object/keys';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols';\nimport '@babel/runtime-corejs3/core-js-stable/instance/filter';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor';\nimport '@babel/runtime-corejs3/core-js-stable/instance/for-each';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors';\nimport '@babel/runtime-corejs3/core-js-stable/object/define-properties';\nimport '@babel/runtime-corejs3/core-js-stable/object/define-property';\nimport '@babel/runtime-corejs3/helpers/defineProperty';\nimport '@babel/runtime-corejs3/core-js-stable/instance/reduce';\nimport '@babel/runtime-corejs3/core-js-stable/object/entries';\nimport '@babel/runtime-corejs3/core-js-stable/reflect/has';\nimport '@reduxjs/toolkit';\nimport 'lodash/mapValues';\nimport 'omit-empty-es';\nimport 'redux-thunk';\nimport '@commercetools-frontend/application-shell-connectors';\nimport '@commercetools-frontend/constants';\nimport '@commercetools-frontend/notifications';\nimport '@commercetools-frontend/sdk';\nimport '@babel/runtime-corejs3/core-js-stable/instance/index-of';\nimport '@babel/runtime-corejs3/core-js-stable/instance/slice';\nimport '@babel/runtime-corejs3/core-js-stable/instance/includes';\nimport '@commercetools-frontend/sentry';\nimport '@commercetools-frontend/react-notifications';\nimport '@babel/runtime-corejs3/core-js-stable/instance/starts-with';\nimport 'redux-logger';\nimport '@emotion/styled/base';\nimport '@babel/runtime-corejs3/core-js-stable/instance/find';\nimport '@babel/runtime-corejs3/core-js-stable/array/is-array';\nimport '@emotion/react';\nimport '@commercetools-frontend/i18n';\nimport './oidc-731e806d.esm.js';\nimport '@babel/runtime-corejs3/core-js-stable/url';\nimport '@commercetools-uikit/design-system';\nimport 'react-intl';\nimport '@commercetools-uikit/flat-button';\nimport '@commercetools-uikit/icons';\nimport './use-is-served-by-proxy-77984220.esm.js';\nimport '@babel/runtime-corejs3/helpers/taggedTemplateLiteral';\nimport '@babel/runtime-corejs3/helpers/objectWithoutProperties';\nimport 'memoize-one';\nimport 'react-select';\nimport '@commercetools-uikit/accessible-hidden';\nimport '@commercetools-uikit/select-input';\nimport '@commercetools-frontend/assets/images/ct-logo.svg';\nimport '@commercetools-uikit/loading-spinner';\nimport '@commercetools-frontend/l10n';\nimport '@babel/runtime-corejs3/core-js-stable/reflect/construct';\nimport '@babel/runtime-corejs3/helpers/classCallCheck';\nimport '@babel/runtime-corejs3/helpers/createClass';\nimport '@babel/runtime-corejs3/helpers/inherits';\nimport '@babel/runtime-corejs3/helpers/possibleConstructorReturn';\nimport '@babel/runtime-corejs3/helpers/getPrototypeOf';\nimport '@babel/runtime-corejs3/core-js-stable/set-timeout';\nimport '@babel/runtime-corejs3/core-js-stable/object/from-entries';\nimport '@babel/runtime-corejs3/core-js-stable/instance/flags';\nimport '@apollo/client/react';\nimport '@flopflip/combine-adapters';\nimport '@flopflip/http-adapter';\nimport '@flopflip/launchdarkly-adapter';\nimport '@flopflip/react-broadcast';\nimport 'react-redux';\nimport 'lodash/upperFirst';\nimport '@commercetools-uikit/design-system/materials/resets.css';\nimport '@commercetools-frontend/application-config/ssr';\nimport '@commercetools-frontend/permissions';\nimport '@flopflip/memory-adapter';\nimport '@babel/runtime-corejs3/core-js-stable/json/stringify';\nimport '@babel/runtime-corejs3/core-js-stable/instance/some';\nimport '@commercetools-frontend/actions-global';\n\nconst LocalCustomViewLauncher = props => {\n  var _props$environment$__, _context, _customViewConfig$typ, _props$environment$__2;\n  const _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    shouldRenderCustomView = _useState2[0],\n    setShouldRenderCustomView = _useState2[1];\n  // We expect this in development to be defined.\n  const customViewConfig = (_props$environment$__ = props.environment.__DEVELOPMENT__) === null || _props$environment$__ === void 0 ? void 0 : _props$environment$__.customViewConfig;\n  return jsx(\"main\", {\n    children: jsx(Constraints.Horizontal, {\n      max: \"scale\",\n      children: jsxs(Spacings.Inset, {\n        scale: \"xl\",\n        children: [jsxs(Spacings.Stack, {\n          scale: \"xl\",\n          children: [jsx(Text.Headline, {\n            as: \"h1\",\n            children: \"Custom View loader\"\n          }), jsxs(Spacings.Stack, {\n            scale: \"l\",\n            children: [jsxs(Spacings.Stack, {\n              scale: \"m\",\n              children: [jsxs(Text.Body, {\n                children: [\"This page simulates the rendering of your Custom View as if it was within a page in the Merchant Center:\", jsx(\"br\", {}), \"Based on your \", jsx(\"i\", {\n                  children: \"custom-view-config\"\n                }), \" file, these are the settings that will be used:\"]\n              }), jsx(\"ul\", {\n                children: jsxs(Spacings.Stack, {\n                  scale: \"s\",\n                  children: [jsxs(\"li\", {\n                    children: [\"Custom View ID: \", jsx(\"b\", {\n                      children: customViewConfig.id\n                    })]\n                  }), jsxs(\"li\", {\n                    children: [\"Custom View permissions:\", ' ', jsx(\"b\", {\n                      children: _mapInstanceProperty(_context = customViewConfig.permissions).call(_context, permission => {\n                        var _context2;\n                        return _concatInstanceProperty(_context2 = \"(\".concat(permission.name, \": \")).call(_context2, permission.oAuthScopes.join(', '), \")\");\n                      }).join(', ')\n                    })]\n                  }), jsxs(\"li\", {\n                    children: [\"Custom View locators:\", ' ', jsx(\"b\", {\n                      children: customViewConfig.locators.join(', ')\n                    })]\n                  }), jsxs(\"li\", {\n                    children: [\"Custom View type: \", jsx(\"b\", {\n                      children: customViewConfig.type\n                    })]\n                  }), jsxs(\"li\", {\n                    children: [\"Custom View size:\", ' ', jsx(\"b\", {\n                      children: (_customViewConfig$typ = customViewConfig.typeSettings) === null || _customViewConfig$typ === void 0 ? void 0 : _customViewConfig$typ.size\n                    })]\n                  })]\n                })\n              })]\n            }), jsx(Constraints.Horizontal, {\n              max: 10,\n              children: jsx(PrimaryButton, {\n                label: \"Open the Custom View\",\n                onClick: () => setShouldRenderCustomView(true)\n              })\n            })]\n          })]\n        }), shouldRenderCustomView && jsx(CustomViewLoader, {\n          customView: customViewConfig,\n          hostUrl: (_props$environment$__2 = props.environment.__DEVELOPMENT__) === null || _props$environment$__2 === void 0 ? void 0 : _props$environment$__2.customViewHostUrl,\n          onClose: () => setShouldRenderCustomView(false)\n        })]\n      })\n    })\n  });\n};\nconst SimulatedIframeRoute = props => {\n  const routeMatch = useRouteMatch();\n  console.info(\"\\u2139\\uFE0F Rendering a Custom View as it would be rendered within an iframe\", routeMatch.url);\n  return jsx(Fragment, {\n    children: props.children\n  });\n};\nconst CustomViewDevHost = props => {\n  return jsx(Router, {\n    history: history,\n    children: jsxs(Switch, {\n      children: [jsx(Route, {\n        path: \"/custom-views/:customViewId/projects/:projectKey\",\n        children: jsx(SimulatedIframeRoute, {\n          children: props.children\n        })\n      }), jsx(Route, {\n        children: jsx(ApplicationShell, {\n          environment: window.app,\n          applicationMessages: props.applicationMessages,\n          disableRoutePermissionCheck: true,\n          children: jsx(LocalCustomViewLauncher, {\n            environment: window.app\n          })\n        })\n      })]\n    })\n  });\n};\nCustomViewDevHost.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: _pt.node.isRequired\n} : {};\nCustomViewDevHost.displayName = 'CustomViewDevHost';\n\nexport { CustomViewDevHost as default };\n"],"names":["LocalCustomViewLauncher","props","_props$environment$__","_context","_customViewConfig$typ","_props$environment$__2","_useState","useState","_useState2","shouldRenderCustomView","setShouldRenderCustomView","customViewConfig","environment","__DEVELOPMENT__","children","max","scale","as","id","permissions","call","permission","_context2","concat","name","oAuthScopes","join","locators","type","typeSettings","size","label","onClick","customView","hostUrl","customViewHostUrl","onClose","SimulatedIframeRoute","routeMatch","console","info","url","CustomViewDevHost","history","path","A","window","app","applicationMessages","disableRoutePermissionCheck","propTypes","displayName"],"sourceRoot":""}